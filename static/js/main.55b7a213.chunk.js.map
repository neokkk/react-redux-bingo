{"version":3,"sources":["store/modules/bingo.js","store/modules/index.js","components/BoardCell.js","components/Board.js","pages/App.js","serviceWorker.js","index.js"],"names":["START_GAME","COUNT_PLAY","RESET","CLICK_CELL","reset","all","type","initialState","isStarted","count","clickedCell","combineReducers","bingo","state","action","cell","BoardCell","num","player","isClicked","dispatch","useDispatch","useSelector","className","onClick","e","c","Number","currentTarget","innerText","indexOf","alert","bingoArr","Board","array","useState","clickedIndexArr","setClickedIndexArr","useEffect","length","forEach","v1","concat","findIndex","v2","map","filter","v","i","key","shuppleArr","arr","newArr","slice","randomIndex","Math","floor","random","tmp","App","Array","fill","bingoArr1","setBingoArr1","bingoArr2","setBingoArr2","Boolean","window","location","hostname","match","devTools","__REDUX_DEVTOOLS_EXTENSION__","store","createStore","rootReducer","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"u3BACA,IAAMA,EAAa,mBACbC,EAAa,mBACbC,EAAQ,cACRC,EAAa,mBAKNC,EAAQ,SAAAC,GAAG,MAAK,CAAEC,KAAMJ,EAAOG,QAItCE,EAAe,CACjBC,WAAW,EACXC,MAAO,EACPC,YAAa,ICbFC,kBAAgB,CAC3BC,MDgBW,WAA8C,IAA/BC,EAA8B,uDAAtBN,EAAcO,EAAQ,uCACxD,OAAOA,EAAOR,MACV,KAAKN,EACD,OAAO,EAAP,GACOa,EADP,CAEIL,WAAW,IAEnB,KAAKP,EACD,OAAO,EAAP,GACOY,EADP,CAEIJ,MAAOI,EAAMJ,MAAQ,IAE7B,KAAKP,EACD,OAAO,EAAP,GACOW,EADP,CAEIL,WAAWM,EAAOT,IAClBI,MAAO,EACPC,YAAa,KAErB,KAAKP,EACD,OAAO,EAAP,GACOU,EADP,CAEIH,YAAY,GAAD,mBAAMG,EAAMH,aAAZ,CAAyBI,EAAOC,SAEnD,QACI,OAAOF,M,eEVJG,G,kBA5BG,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,IAAKC,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,UACxBC,EAAWC,cACXb,EAAYc,aAAY,SAAAT,GAAK,OAAIA,EAAMD,MAAMJ,aAC7CC,EAAQa,aAAY,SAAAT,GAAK,OAAIA,EAAMD,MAAMH,SACzCC,EAAcY,aAAY,SAAAT,GAAK,OAAIA,EAAMD,MAAMF,eAiBrD,OACI,yBAAKa,UAAS,oBAAeJ,EAAY,UAAY,MAAQK,QAhB7C,SAAAC,GAChB,GAAIjB,EAAW,CACX,IAAMkB,EAAIC,OAAOF,EAAEG,cAAcC,WAE7BnB,EAAYoB,QAAQJ,GAAK,IACrBjB,EAAQ,IAAMS,EAAS,GACvBE,EFXY,CAAEd,KAAML,IEYpBmB,EFVc,CAAEd,KAAMH,EAAYY,KEUfW,KAEnBK,MAAM,0DAQbvB,GAAaS,KCrBpBe,EAAW,CACb,CAAC,EAAG,EAAG,EAAG,EAAG,GACb,CAAC,EAAG,EAAG,EAAG,EAAG,GACb,CAAC,GAAI,GAAI,GAAI,GAAI,IACjB,CAAC,GAAI,GAAI,GAAI,GAAI,IACjB,CAAC,GAAI,GAAI,GAAI,GAAI,IACjB,CAAC,EAAG,EAAG,GAAI,GAAI,IACf,CAAC,EAAG,EAAG,GAAI,GAAI,IACf,CAAC,EAAG,EAAG,GAAI,GAAI,IACf,CAAC,EAAG,EAAG,GAAI,GAAI,IACf,CAAC,EAAG,EAAG,GAAI,GAAI,IACf,CAAC,EAAG,EAAG,GAAI,GAAI,IACf,CAAC,EAAG,EAAG,GAAI,GAAI,KA8CJC,EA3CD,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,MAAOhB,EAAa,EAAbA,OACdE,EAAWC,cACXX,EAAcY,aAAY,SAAAT,GAAK,OAAIA,EAAMD,MAAMF,eAFpB,EAGayB,mBAAS,IAHtB,mBAG1BC,EAH0B,KAGTC,EAHS,KA+BjC,OA1BAC,qBAAU,WACD5B,EAAY6B,QACbF,EAAmB,IAGvB3B,EAAY8B,SAAQ,SAAAC,GAChBJ,EAAmBD,EAAgBM,OAAOR,EAAMS,WAAU,SAAAC,GAAE,OAAIA,IAAOH,YAE5E,CAAC/B,IAEA0B,EAAgBG,OAAS,GACzBP,EAASQ,SAAQ,SAAAC,GACEA,EAAGI,KAAI,SAAAD,GAClB,GAAIR,EAAgBN,QAAQc,IAAO,EAC/B,OAAO,KAIHE,QAAO,SAAAC,GAAC,OAAU,IAANA,KAASR,SAC7BR,MAAM,uBAAD,OAAcb,EAAd,uDACLmB,EAAmB,IACnBjB,EAAShB,EAAM,YAMvB,yBAAKmB,UAAU,SACX,2BAAIL,EAAJ,KACA,yBAAKK,UAAU,eACVW,EAAMW,KAAI,SAACE,EAAGC,GAAJ,OACP,kBAAC,EAAD,CAAWC,IAAKD,EAAG/B,IAAK8B,EAAG7B,OAAQA,EAAQC,aAAYT,EAAY6B,QAAW7B,EAAYoB,QAAQiB,IAAM,WCnDtHG,EAAa,SAAAC,GAGjB,IAFA,IAAMC,EAASD,EAAIE,QAEVL,EAAI,EAAGA,EAAII,EAAOb,OAAQS,IAAK,CACtC,IAAMM,EAAcC,KAAKC,MAAMD,KAAKE,SAAWL,EAAOb,QAGlDmB,EAAMN,EAAOJ,GACjBI,EAAOJ,GAAKI,EAAOE,GACnBF,EAAOE,GAAeI,EAGxB,OAAON,GAiCMO,EA9BH,WACV,IAAMvC,EAAWC,cACXb,EAAYc,aAAY,SAAAT,GAAK,OAAIA,EAAMD,MAAMJ,aAC7CC,EAAQa,aAAY,SAAAT,GAAK,OAAIA,EAAMD,MAAMH,SAH/B,EAKkB0B,mBAASyB,MAAM,IAAIC,KAAK,GAAGhB,KAAI,SAACE,EAAGC,GAAJ,OAAUA,EAAI,MAL/D,mBAKTc,EALS,KAKEC,EALF,OAMkB5B,mBAASyB,MAAM,IAAIC,KAAK,GAAGhB,KAAI,SAACE,EAAGC,GAAJ,OAAUA,EAAI,MAN/D,mBAMTgB,EANS,KAMEC,EANF,KAgBhB,OACE,yBAAK1C,UAAU,OACb,gCACE,4BAAQC,QAXU,WACtBuC,EAAab,EAAWY,IACxBG,EAAaf,EAAWc,IAExB5C,EAAShB,KACTgB,EJ9B4B,CAAEd,KAAMN,MIoCGQ,EAAY,kCAAW,6BAC1D,gCAASA,GAAS,gBAAaC,EAAQ,IAAM,EAAI,EAAI,EAAnC,4CAEpB,8BACE,kBAAC,EAAD,CAAOyB,MAAO4B,EAAW5C,OAAQ,IACjC,kBAAC,EAAD,CAAOgB,MAAO8B,EAAW9C,OAAQ,OCpCrBgD,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCPN,IAAMC,EAAWJ,OAAOK,8BAAgCL,OAAOK,+BACzDC,EAAQC,YAAYC,EAAaJ,GAEvCK,IAASC,OACL,kBAAC,IAAD,CAAUJ,MAAOA,GACb,kBAAC,EAAD,OAERK,SAASC,eAAe,SD+GlB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,kB","file":"static/js/main.55b7a213.chunk.js","sourcesContent":["/* 액션 생성 함수 */\r\nconst START_GAME = 'bingo/START_GAME';\r\nconst COUNT_PLAY = 'bingo/COUNT_PLAY';\r\nconst RESET = 'bingo/RESET';\r\nconst CLICK_CELL = 'bingo/CLICK_CELL';\r\n\r\n/* 액션 정의 */\r\nexport const startGame = () => ({ type: START_GAME });\r\nexport const countPlay = () => ({ type: COUNT_PLAY });\r\nexport const reset = all => ({ type: RESET, all })\r\nexport const clickCell = cell => ({ type: CLICK_CELL, cell });\r\n\r\n/* 초기 상태 설정 */\r\nconst initialState = {\r\n    isStarted: false,\r\n    count: 0,\r\n    clickedCell: []\r\n}\r\n\r\n/* 리듀서 정의 */\r\nexport default function bingo(state = initialState, action) {\r\n    switch(action.type) {\r\n        case START_GAME:\r\n            return {\r\n                ...state,\r\n                isStarted: true\r\n            };\r\n        case COUNT_PLAY:\r\n            return {\r\n                ...state,\r\n                count: state.count + 1\r\n            }\r\n        case RESET:\r\n            return {\r\n                ...state,\r\n                isStarted: action.all ? false : true,\r\n                count: 0,\r\n                clickedCell: []\r\n            }\r\n        case CLICK_CELL:\r\n            return {\r\n                ...state,\r\n                clickedCell: [...state.clickedCell, action.cell]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import { combineReducers } from 'redux';\r\nimport bingo from './bingo';\r\n\r\nexport default combineReducers({\r\n    bingo\r\n});","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport './BoardCell.scss';\r\n\r\nimport { countPlay, clickCell } from '../store/modules/bingo';\r\n\r\nconst BoardCell = ({ num, player, isClicked }) => {\r\n    const dispatch = useDispatch();\r\n    const isStarted = useSelector(state => state.bingo.isStarted);\r\n    const count = useSelector(state => state.bingo.count);\r\n    const clickedCell = useSelector(state => state.bingo.clickedCell);\r\n\r\n    const handleClick = e => {\r\n        if (isStarted) { // 게임 시작 누른 이후\r\n            const c = Number(e.currentTarget.innerText); // 클릭한 숫자\r\n\r\n            if (clickedCell.indexOf(c) < 0) { // 기존에 클릭한 숫자가 아닐 경우\r\n                if (count % 2 === player - 1) { // 본인 차례\r\n                    dispatch(countPlay());\r\n                    dispatch(clickCell(c));\r\n                } else {\r\n                    alert('잘못된 차례입니다.');\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={`BoardCell ${isClicked ? 'clicked' : null}`} onClick={handleClick}>\r\n            {isStarted && num}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BoardCell;","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport './Board.scss';\r\nimport BoardCell from './BoardCell';\r\n\r\nimport { reset } from '../store/modules/bingo';\r\n\r\n/* 빙고 인덱스 배열 */\r\nconst bingoArr = [\r\n    [0, 1, 2, 3, 4],\r\n    [5, 6, 7, 8, 9],\r\n    [10, 11, 12, 13, 14],\r\n    [15, 16, 17, 18, 19],\r\n    [20, 21, 22, 23, 24],\r\n    [0, 5, 10, 15, 20],\r\n    [1, 6, 11, 16, 21],\r\n    [2, 7, 12, 17, 22],\r\n    [3, 8, 13, 18, 23],\r\n    [4, 9, 14, 19, 24],\r\n    [0, 6, 12, 18, 24],\r\n    [4, 8, 12, 16, 20]\r\n];\r\n\r\nconst Board = ({ array, player }) => {\r\n    const dispatch = useDispatch();\r\n    const clickedCell = useSelector(state => state.bingo.clickedCell);\r\n    const [clickedIndexArr, setClickedIndexArr] = useState([]); // 클릭한 숫자의 인덱스 담는 배열\r\n\r\n    useEffect(() => {\r\n        if (!clickedCell.length) { // 재시작 클릭하면 배열 초기화\r\n            setClickedIndexArr([]);\r\n        }\r\n\r\n        clickedCell.forEach(v1 => {\r\n            setClickedIndexArr(clickedIndexArr.concat(array.findIndex(v2 => v2 === v1))); // 인덱스 추가\r\n        });\r\n    }, [clickedCell]);\r\n\r\n    if (clickedIndexArr.length > 4) { // 클릭한 수가 5개 이상일 때\r\n        bingoArr.forEach(v1 => {\r\n            const mapped = v1.map(v2 => { // 클릭한 수의 인덱스 배열이 빙고 배열과 일치할 경우\r\n                if (clickedIndexArr.indexOf(v2) >= 0) {\r\n                    return 0;\r\n                }\r\n            });\r\n\r\n            if (!mapped.filter(v => v !== 0).length) { // 빙고!\r\n                alert(`빙고! player${player}가 승리하였습니다.`);\r\n                setClickedIndexArr([]); // 초기화\r\n                dispatch(reset('all'));\r\n            }\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className='Board'>\r\n            <p>{player}P</p>\r\n            <div className='Board-cells'>\r\n                {array.map((v, i) =>\r\n                    <BoardCell key={i} num={v} player={player} isClicked={(clickedCell.length && (clickedCell.indexOf(v) >= 0)) ? true : false} />\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Board;","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport './App.scss';\nimport Board from '../components/Board';\n\nimport { startGame, reset } from '../store/modules/bingo';\n\n/* 배열 셔플 함수 */\nconst shuppleArr = arr => {\n  const newArr = arr.slice();\n\n  for (let i = 0; i < newArr.length; i++) {\n    const randomIndex = Math.floor(Math.random() * newArr.length);\n\n    // swap\n    let tmp = newArr[i];\n    newArr[i] = newArr[randomIndex];\n    newArr[randomIndex] = tmp;\n  }\n\n  return newArr;\n}\n\nconst App = () => {\n  const dispatch = useDispatch();\n  const isStarted = useSelector(state => state.bingo.isStarted);\n  const count = useSelector(state => state.bingo.count);\n\n  const [bingoArr1, setBingoArr1] = useState(Array(25).fill(0).map((v, i) => i + 1)); // 랜덤 배열 1\n  const [bingoArr2, setBingoArr2] = useState(Array(25).fill(0).map((v, i) => i + 1)); // 랜덤 배열 2\n\n  const handleGameStart = () => {\n    setBingoArr1(shuppleArr(bingoArr1));\n    setBingoArr2(shuppleArr(bingoArr2));\n\n    dispatch(reset()); // 시작 전 초기화\n    dispatch(startGame()); // 게임 시작\n  }\n\n  return (\n    <div className='App'>\n      <header>\n        <button onClick={handleGameStart}>{isStarted ? '게임 재시작' : '게임 시작'}</button>\n        <button>{isStarted && `player${count % 2 === 0 ? 1 : 2}의 차례입니다.`}</button>\n      </header>\n      <main>\n        <Board array={bingoArr1} player={1} />\n        <Board array={bingoArr2} player={2} />\n      </main>\n    </div>\n  );\n};\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport rootReducer from './store/modules';\n\nimport './index.scss';\nimport App from './pages/App';\nimport * as serviceWorker from './serviceWorker';\n\n// redux 개발자 도구\nconst devTools = window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__();\nconst store = createStore(rootReducer, devTools);\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>, \ndocument.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}